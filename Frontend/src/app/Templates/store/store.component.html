<app-navbar></app-navbar>
<div class="search-sec">
    <div class="container">
        <div class="search-box">
            <form>
                <input [(ngModel)]="value" type="text" name="search" placeholder="Search keywords">
                <button (click)="search()" type="submit">Search</button>
            </form>
        </div>
        <!--search-box end-->
    </div>
</div>
<!--search-sec end-->

<main>
    <div class="main-section">
        <div class="container">
            <div class="main-section-data">
                <div class="row">
                    <div class="col-lg-4">
                        <div class="filter-secs">
                            <div class="filter-heading">
                                <h3>Filters</h3>
                                <a (click) = "clear()" title="">Clear Filters</a>
                            </div>
                            <!--filter-heading end-->
                            <div class="paddy">
                                <div class="filter-dd">
                                    <div class="filter-ttl">
                                        <h3>Tags words</h3>

                                        <a title="" (click)="searchTags()">Search</a>
                                    </div>
                                    <mat-form-field appearance="fill">
                                        <mat-label>Select tag</mat-label>
                                        <mat-select [(value)]="tagFilter">
                                            <mat-option *ngFor="let tag of tags" [value]="tag.description">
                                                {{tag.description}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="filter-dd">
                                    <div class="filter-ttl">
                                        <h3>Status</h3>
                                        <a  title="" (click)="searchStatus()">Search</a>
                                    </div>
                                    <mat-form-field appearance="fill">
                                        <mat-label>Select status</mat-label>
                                        <mat-select [(value)]="statusFilter">
                                            <mat-option *ngFor="let value of status" [value]="value">
                                                {{value}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>

                                <div class="filter-dd">
                                    <div class="filter-ttl">
                                        <h3>City</h3>
                                        <a title="" (click)="searchCity()">Search</a>
                                    </div>                                   
                                    <mat-form-field appearance="fill">
                                        <mat-label>Select City</mat-label>
                                        <mat-select [(value)]="cityFilter">
                                            <mat-option *ngFor="let value of cities" [value]="value">
                                                {{value}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                        </div>
                        <!--filter-secs end-->
                    </div>
                    <div class="col-lg-8">
                        <div class="main-ws-sec">
                            <div class="posts-section" id="myULS">
                                <div class="post-bar" *ngFor="let product of products">
                                    <div class="post_topbar">
                                        <div class="usy-dt">
                                            <img src="https://localhost:8443/api/users/{{product.product.iduser.idusers}}/imageProfile"
                                                alt="">
                                            <div class="usy-name">
                                                <h3>{{product.product.iduser.username}}</h3>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="epi-sec">
                                        <ul class="descp">
                                            <li><span>
                                                    <mat-icon>supervised_user_circle</mat-icon>{{product.typeUser}}
                                                </span></li>
                                            <li><span>
                                                    <mat-icon>location_city</mat-icon>{{product.product.iduser.city}}
                                                </span></li>
                                        </ul>
                                        <ul class="bk-links">
                                            <li><a id="product{{product.product.idproduct}}" title=""><i
                                                        (click)="mark(product.product.idproduct,product.product)"
                                                        class="{{product.bookamark}}"></i></a></li>
                                            <li><a [routerLink]="['/messages', { id: product.product.iduser.idusers }]"
                                                    routerLinkActive="router-link-active" title=""><i
                                                        class="la la-envelope"></i></a></li>
                                        </ul>
                                    </div>
                                    <div class="job_descp">
                                        <h3>{{product.product.title}}</h3>
                                        <div class="row">
                                            <ngb-carousel>  
                                                <ng-template ngbSlide *ngIf="product.product.img0" >  
                                                    <img src="https://localhost:8443/api/products/{{product.product.idproduct}}/image0">  
                                                </ng-template>  
                                                <ng-template ngbSlide *ngIf="product.product.img1">  
                                                    <img src="https://localhost:8443/api/products/{{product.product.idproduct}}/image1">  
                                                </ng-template>  
                                                <ng-template ngbSlide *ngIf="product.product.img2">  
                                                    <img src="https://localhost:8443/api/products/{{product.product.idproduct}}/image2">  
                                                </ng-template>   
                                            </ngb-carousel>  
                                        </div>
                                        <div class="row">
                                            <ul class="description-store">
                                                <li>
                                                    <p>{{product.product.description}}

                                                    </p>
                                                </li>
                                            </ul>
                                        </div><br>
                                        <a id="readmore{{product.product.idproduct}}" class="btn btn-primary "
                                            (click)="readmore(product.product.idproduct)" title="">view more</a>
                                        <ul class="skill-tags">
                                            <li *ngIf="product.product.idtagone"><a href="#" title="">
                                                    <p style="color:#040500">{{product.product.idtagone.description}}
                                                    </p>
                                                </a></li>
                                            <li *ngIf="product.product.idtagtwo"><a href="#" title="">
                                                    <p style="color:#040500">{{product.product.idtagtwo.description}}
                                                    </p>
                                                </a></li>
                                            <li *ngIf="product.product.idtagthree"><a href="#" title="">
                                                    <p style="color:#040500">
                                                        {{product.product.idtagthree.description}}
                                                    </p>
                                                </a></li>
                                            <li *ngIf="product.product.idtagfour"><a href="#" title="">
                                                    <p style="color:#040500">
                                                        {{product.product.idtagfour.description}}
                                                    </p>
                                                </a></li>
                                            <li *ngIf="product.product.idtagfive"><a href="#" title="">
                                                    <p style="color:#040500">
                                                        {{product.product.idtagfive.description}}
                                                    </p>
                                                </a></li>
                                        </ul>
                                    </div>
                                    <div class="job-status-bar" style="background-color:{{product.color}}">
                                        <div class="col-lg-3">
                                            <h3>{{product.product.status}}</h3>
                                        </div>
                                        <div class="col-lg-3">
                                            <h3> {{product.product.price}} $ </h3>
                                        </div>
                                    </div>

                                </div>
                                <!--post-bar end-->
                            </div>
                            <!--posts-section end-->
                            <div class="process-comm" (click)="load()">
                                <div class="spinner products">
                                    <div class="bounce1"></div>
                                    <div class="bounce2"></div>
                                    <div class="bounce3"></div>
                                </div>
                            </div>
                        </div>
                        <!--main-ws-sec end-->
                    </div>

                </div>
            </div><!-- main-section-data end-->
        </div>
    </div>
</main>